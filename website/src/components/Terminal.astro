---
const findings = [
  { sev: 'MORTAL', sevClass: 'text-red-500',    loc: 'src/config.js:4',       rule: 'AWS_ACCESS_KEY',      conf: '92%' },
  { sev: 'MORTAL', sevClass: 'text-red-500',    loc: 'lib/auth.py:12',        rule: 'GITHUB_TOKEN',        conf: '88%' },
  { sev: 'MORTAL', sevClass: 'text-red-500',    loc: '.env.prod:1',            rule: 'STRIPE_SECRET_KEY',   conf: '95%' },
  { sev: 'MORTAL', sevClass: 'text-red-500',    loc: 'deploy/k8s.yaml:23',    rule: 'GCP_SERVICE_ACCOUNT', conf: '91%' },
  { sev: 'VENIAL', sevClass: 'text-yellow-500', loc: 'docker-compose.yml:8',  rule: 'HARDCODED_IP',        conf: '45%' },
];
---

<section id="demo" class="py-14 sm:py-20 md:py-24 bg-gradient-to-b from-transparent via-[#10b981]/[0.03] to-transparent">
  <div class="max-w-6xl mx-auto px-4 sm:px-6">
    <div class="text-center mb-10 sm:mb-14 on-scroll">
      <h2 class="font-bold mb-3" style="font-size: clamp(22px, 4vw, 36px);">See it in action</h2>
      <p class="text-[#8b949e] text-sm sm:text-base">A typical scan across a project with leaked secrets.</p>
    </div>

    <div class="on-scroll max-w-3xl mx-auto bg-[#010409] border border-[#30363d] rounded-2xl overflow-hidden shadow-[0_20px_60px_rgb(0,0,0,0.5)]">
      <!-- Title bar -->
      <div class="flex items-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-2.5 sm:py-3 bg-[#161b22] border-b border-[#30363d]">
        <div class="w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-full bg-[#ff5f57]"></div>
        <div class="w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-full bg-[#febc2e]"></div>
        <div class="w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-full bg-[#28c840]"></div>
        <span class="ml-auto text-[10px] sm:text-xs text-[#6e7681] font-mono">velka scan .</span>
      </div>

      <!-- Scrollable body -->
      <div class="p-4 sm:p-6 font-mono text-[11px] sm:text-[13px] leading-loose overflow-x-auto">
        <p class="text-[#6e7681] whitespace-nowrap">$ <span class="text-[#e6edf3]">velka scan . --deep-scan</span></p>
        <p class="text-[#6e7681] mt-1 mb-3 whitespace-nowrap">Scanning 2,847 files across 143 directories...</p>

        <!-- Grid layout for findings: fixed columns instead of flex-wrap -->
        <div class="space-y-0.5">
          {findings.map(f => (
            <div class="grid gap-x-3 items-baseline whitespace-nowrap" style="grid-template-columns: 52px 1fr 1fr auto">
              <span class={`${f.sevClass} font-bold`}>{f.sev}</span>
              <span class="text-[#6e7681] truncate">{f.loc}</span>
              <span class="text-[#8b949e] truncate">{f.rule}</span>
              <span class="text-[#f59e0b]/80">{f.conf}</span>
            </div>
          ))}
        </div>

        <div class="mt-4 pt-3 border-t border-[#30363d] text-[#6e7681] whitespace-nowrap">
          <span class="text-red-500">4 mortal</span>
          <span class="mx-1.5 sm:mx-2">|</span>
          <span class="text-yellow-500">1 venial</span>
          <span class="mx-1.5 sm:mx-2">|</span>
          <span>2,847 files in 18ms</span>
        </div>
      </div>
    </div>
  </div>
</section>
